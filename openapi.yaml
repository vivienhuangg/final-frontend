openapi: 3.0.3
info:
  title: Group Trip Planning API
  description: API specification for the group trip planning backend. All endpoints use POST requests with JSON bodies.
  version: 1.0.0
servers:
  - url: http://localhost:8000/api
    description: Local development server

paths:
  /users/register:
    post:
      summary: Register a new user account
      operationId: registerUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password]
              properties:
                username:
                  type: string
                password:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /users/login:
    post:
      summary: Authenticate a user and get session
      operationId: loginUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password]
              properties:
                username:
                  type: string
                password:
                  type: string
      responses:
        "200":
          description: Success - returns session ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  session:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /users/logout:
    post:
      summary: Logout and invalidate session
      operationId: logoutUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /user/setName:
    post:
      summary: Set or update user's name
      operationId: setUserName
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, firstName, lastName]
              properties:
                session:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /user/getName:
    post:
      summary: Get user's name
      operationId: getUserName
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
                targetUser:
                  type: string
                  description: Optional - if not provided, returns authenticated user's name
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  firstName:
                    type: string
                  lastName:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /user/deleteName:
    post:
      summary: Delete user's name
      operationId: deleteUserName
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/new:
    post:
      summary: Create a new trip
      operationId: createTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, title, startDate, endDate]
              properties:
                session:
                  type: string
                title:
                  type: string
                startDate:
                  type: string
                  format: date
                endDate:
                  type: string
                  format: date
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  trip:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/modify:
    post:
      summary: Modify trip details
      operationId: modifyTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip, title, startDate, endDate]
              properties:
                session:
                  type: string
                trip:
                  type: string
                title:
                  type: string
                startDate:
                  type: string
                  format: date
                endDate:
                  type: string
                  format: date
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  trip:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/delete:
    post:
      summary: Delete a trip (organizer only)
      operationId: deleteTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip]
              properties:
                session:
                  type: string
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  trip:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/addTraveller:
    post:
      summary: Add a traveller to a trip (organizer only)
      operationId: addTraveller
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip, travellerUser]
              properties:
                session:
                  type: string
                trip:
                  type: string
                travellerUser:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/deleteTraveller:
    post:
      summary: Remove a traveller from a trip
      operationId: deleteTraveller
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip, deleteTravellerUser]
              properties:
                session:
                  type: string
                trip:
                  type: string
                deleteTravellerUser:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/get:
    post:
      summary: Get trip details
      operationId: getTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip]
              properties:
                session:
                  type: string
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  trip:
                    $ref: "#/components/schemas/Trip"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /trips/my:
    post:
      summary: Get all trips for authenticated user
      operationId: getMyTrips
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        trip:
                          $ref: "#/components/schemas/Trip"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /activities/create:
    post:
      summary: Create a new activity
      operationId: createActivity
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, title, startDateTime, endDateTime, cost, trip]
              properties:
                session:
                  type: string
                title:
                  type: string
                startDateTime:
                  type: string
                  format: date-time
                endDateTime:
                  type: string
                  format: date-time
                cost:
                  type: number
                  minimum: 0
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  activity:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /activities/delete:
    post:
      summary: Delete an activity (organizer only)
      operationId: deleteActivity
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, activity]
              properties:
                session:
                  type: string
                activity:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  activity:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /activities/byTrip:
    post:
      summary: Get all activities for a trip
      operationId: getActivitiesByTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip]
              properties:
                session:
                  type: string
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        activity:
                          $ref: "#/components/schemas/Activity"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /activities/details:
    post:
      summary: Get activity details
      operationId: getActivityDetails
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, activity]
              properties:
                session:
                  type: string
                activity:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  activity:
                    $ref: "#/components/schemas/ActivityDetail"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Trip/invite:
    post:
      summary: Invite a user to a trip
      operationId: inviteUserToTrip
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip, inviteeId]
              properties:
                session:
                  type: string
                trip:
                  type: string
                inviteeId:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  invitation:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Invitation/accept:
    post:
      summary: Accept an invitation
      operationId: acceptInvitation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, invitation]
              properties:
                session:
                  type: string
                invitation:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [accepted]
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Invitation/reject:
    post:
      summary: Reject an invitation
      operationId: rejectInvitation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, invitation]
              properties:
                session:
                  type: string
                invitation:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [rejected]
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Invitation/delete:
    post:
      summary: Delete an invitation
      operationId: deleteInvitation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, invitation]
              properties:
                session:
                  type: string
                invitation:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [deleted]
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Invitation/myInvitations:
    post:
      summary: Get all invitations for authenticated user
      operationId: getMyInvitations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: "#/components/schemas/Invitation"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /Trip/invitations:
    post:
      summary: Get all invitations for a trip (organizer only)
      operationId: getTripInvitations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip]
              properties:
                session:
                  type: string
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        invitation:
                          type: string
                        invitee:
                          type: string
                        accepted:
                          type: string
                          enum: [Yes, No, Maybe]
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/create:
    post:
      summary: Create a packing list for a trip
      operationId: createPackingList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, trip]
              properties:
                session:
                  type: string
                trip:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  packinglist:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/addItem:
    post:
      summary: Add an item to a packing list
      operationId: addPackingListItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist, name]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
                name:
                  type: string
                assignee:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/deleteItem:
    post:
      summary: Delete an item from a packing list
      operationId: deletePackingListItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist, item]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
                item:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/delete:
    post:
      summary: Delete a packing list (organizer only)
      operationId: deletePackingList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/toggleCompletion:
    post:
      summary: Toggle item completion status
      operationId: togglePackingListItemCompletion
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist, item, finishedFlag]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
                item:
                  type: string
                finishedFlag:
                  type: boolean
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/suggest:
    post:
      summary: Request AI-generated packing list suggestions
      operationId: requestPackingListSuggestions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist, additionalInput]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
                additionalInput:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  requestId:
                    type: string
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/addGeneratedItems:
    post:
      summary: Add multiple generated items to a packing list
      operationId: addGeneratedItems
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist, itemNames]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
                itemNames:
                  type: array
                  items:
                    type: string
                assignee:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /packinglists/items:
    post:
      summary: Get all items in a packing list
      operationId: getPackingListItems
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, packinglist]
              properties:
                session:
                  type: string
                packinglist:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        item:
                          $ref: "#/components/schemas/PackingListItem"
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  results:
                    type: array

  /costtracker/equal-split-percentage:
    post:
      summary: Create equal split percentage expense
      operationId: createEqualSplitPercentageExpense
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, totalCost, users]
              properties:
                session:
                  type: string
                totalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  expense:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/equal-split-money:
    post:
      summary: Create equal split money expense
      operationId: createEqualSplitMoneyExpense
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, totalCost, users]
              properties:
                session:
                  type: string
                totalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  expense:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/percentage-expense:
    post:
      summary: Create percentage expense with custom splits
      operationId: createPercentageExpense
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, totalCost, users, percentages]
              properties:
                session:
                  type: string
                totalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
                percentages:
                  type: array
                  items:
                    type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  expense:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/money-expense:
    post:
      summary: Create money expense with custom splits
      operationId: createMoneyExpense
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, totalCost, users, costs]
              properties:
                session:
                  type: string
                totalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
                costs:
                  type: array
                  items:
                    type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  expense:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/to-money:
    post:
      summary: Convert percentage expense to money-based
      operationId: convertExpenseToMoney
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense]
              properties:
                session:
                  type: string
                expense:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/to-percentage:
    post:
      summary: Convert money expense to percentage-based
      operationId: convertExpenseToPercentage
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense]
              properties:
                session:
                  type: string
                expense:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/modify-money-full:
    post:
      summary: Modify money expense fully
      operationId: modifyMoneyExpenseFull
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense, newTotalCost, users, costs]
              properties:
                session:
                  type: string
                expense:
                  type: string
                newTotalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
                costs:
                  type: array
                  items:
                    type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/modify-percentage-full:
    post:
      summary: Modify percentage expense fully
      operationId: modifyPercentageExpenseFull
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense, newTotalCost, users, percentages]
              properties:
                session:
                  type: string
                expense:
                  type: string
                newTotalCost:
                  type: number
                users:
                  type: array
                  items:
                    type: string
                percentages:
                  type: array
                  items:
                    type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/modify-total-cost:
    post:
      summary: Modify percentage expense total cost only
      operationId: modifyPercentageExpenseTotalCost
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense, newTotalCost]
              properties:
                session:
                  type: string
                expense:
                  type: string
                newTotalCost:
                  type: number
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/delete:
    post:
      summary: Delete an expense
      operationId: deleteExpense
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense]
              properties:
                session:
                  type: string
                expense:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/percentage-details:
    post:
      summary: Get percentage expense details
      operationId: getPercentageExpenseDetails
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense]
              properties:
                session:
                  type: string
                expense:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  totalCost:
                    type: number
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                        percentage:
                          type: number
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/money-details:
    post:
      summary: Get money expense details
      operationId: getMoneyExpenseDetails
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, expense]
              properties:
                session:
                  type: string
                expense:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  totalCost:
                    type: number
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                        cost:
                          type: number
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/percentage-expenses:
    post:
      summary: List all percentage expenses
      operationId: listPercentageExpenses
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  listedExpenses:
                    type: array
                    items:
                      type: object
                      properties:
                        expense:
                          type: string
                        totalCost:
                          type: number
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /costtracker/money-expenses:
    post:
      summary: List all money expenses
      operationId: listMoneyExpenses
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session]
              properties:
                session:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  listedExpenses:
                    type: array
                    items:
                      type: object
                      properties:
                        expense:
                          type: string
                        totalCost:
                          type: number
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/item/add:
    post:
      summary: Add a rating (1-10 scale)
      operationId: addRating
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, item, ratingNum]
              properties:
                session:
                  type: string
                item:
                  type: string
                ratingNum:
                  type: integer
                  minimum: 1
                  maximum: 10
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  rating:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/item/change:
    post:
      summary: Change a rating
      operationId: changeRating
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, rating, ratingNum]
              properties:
                session:
                  type: string
                rating:
                  type: string
                ratingNum:
                  type: integer
                  minimum: 1
                  maximum: 10
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  rating:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/item/remove:
    post:
      summary: Remove a rating
      operationId: removeRating
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, rating]
              properties:
                session:
                  type: string
                rating:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/item/get:
    post:
      summary: Get rating details
      operationId: getRating
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, rating]
              properties:
                session:
                  type: string
                rating:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: string
                  item:
                    type: string
                  ratingNum:
                    type: integer
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/item/list:
    post:
      summary: Get all ratings for an item
      operationId: getRatingsByItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, item]
              properties:
                session:
                  type: string
                item:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                        ratingNum:
                          type: integer
                        rating:
                          type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

  /ratings/user/list:
    post:
      summary: Get all ratings by a user
      operationId: getRatingsByUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session, user]
              properties:
                session:
                  type: string
                user:
                  type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        item:
                          type: string
                        ratingNum:
                          type: integer
                        rating:
                          type: string
        "400":
          description: Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string

components:
  schemas:
    Trip:
      type: object
      required: [_id, title, startDate, endDate, organizer, travellers]
      properties:
        _id:
          type: string
        title:
          type: string
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        organizer:
          type: string
        travellers:
          type: array
          items:
            type: string

    Activity:
      type: object
      required: [_id, title, start, end, cost]
      properties:
        _id:
          type: string
        title:
          type: string
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
        cost:
          type: number

    ActivityDetail:
      type: object
      required: [_id, title, trip, start, end, cost]
      properties:
        _id:
          type: string
        title:
          type: string
        trip:
          type: string
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
        cost:
          type: number

    Invitation:
      type: object
      required: [invitation, event, accepted]
      properties:
        invitation:
          type: string
        event:
          type: string
        accepted:
          type: string
          enum: [Yes, No, Maybe]

    PackingListItem:
      type: object
      required: [_id, name, finished]
      properties:
        _id:
          type: string
        name:
          type: string
        finished:
          type: boolean
        assignee:
          type: string
        finishedBy:
          type: string
